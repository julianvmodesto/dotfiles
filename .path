#!/bin/bash

# update path
export PATH=/usr/local/bin:/usr/local/go/bin:${PATH}:${GOPATH}/bin:/usr/share/bcc/tools:/sbin

# Rust
export PATH="${PATH}:${HOME}/.cargo/bin"

# Ruby
export PATH="${PATH}:${HOME}/.rbenv/bin"

# Python
export PATH="${HOME}/anaconda/bin:$PATH"

# macOS Homebrew bash completion
if [[ -f /usr/local/etc/bash_completion ]]; then
  # shellcheck source=/dev/null
  . /usr/local/etc/bash_completion
fi

# The next line updates PATH for the Google Cloud SDK.
# shellcheck source=/dev/null
if [ -f "${HOME}/google-cloud-sdk/path.bash.inc" ]; then source "${HOME}/google-cloud-sdk/path.bash.inc"; fi

# The next line enables shell command completion for gcloud.
# shellcheck source=/dev/null
if [ -f "${HOME}/google-cloud-sdk/completion.bash.inc" ]; then source "${HOME}/google-cloud-sdk/completion.bash.inc"; fi

# Kubernetes
if command -v kubectl > /dev/null; then
  # shellcheck source=/dev/null
  source <(kubectl completion bash)
fi

# Kops
if command -v kops > /dev/null; then
  # shellcheck source=/dev/null
  source <(kops completion bash)
fi

# fzf
[[ -f ~/.fzf.bash ]] && source ~/.fzf.bash

# Node
export NVM_DIR="${HOME}/.nvm"
[[ -s "${NVM_DIR}/nvm.sh" ]] && \. "${NVM_DIR}/nvm.sh"  # This loads nvm
[[ -s "${NVM_DIR}/bash_completion" ]] && \. "${NVM_DIR}/bash_completion"  # This loads nvm bash_completion

# Golang
[[ -s "${HOME}/.gvm/scripts/gvm" ]] && source "${HOME}/.gvm/scripts/gvm"
command -v gocomplete > /dev/null && complete -C gocomplete go

# Ruby
command -v rbenv > /dev/null && eval "$(rbenv init -)"
